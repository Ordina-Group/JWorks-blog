---
layout: post
authors: [pieter_vincken, yolan_vloeberghs, ferre_vangenechten, robbe_de_proft]
title: 'KubeCon + CloudNativeCon EU 2024'
image: /img/2024-04-01-kubecon-2024/banner.png
tags: [cloud, conference, cloud-native, kubernetes]
category: Cloud
comments: true
---

> KubeCon \| CloudNativeCon EU edition, en francaise ç'année.

{:refdef: style="text-align: center;"}
<img src="{{ '/img/2024-04-01-kubecon-2024/group_photo.jpg' | prepend: site.baseurl }}" alt="JWorks group picture" class="image" style="margin:0px auto; max-width:100%">
_JWorks and friends at KubeCon 2024_
{: refdef}

# Introduction

This year the cloud-native conference is hosted in the capital of love: Paris, France.
The convention center, Expo Port de Versailles, is a huge complex.
Funnily enough, it's so big that there are other (non-kubecon | cloudnativecon) events going on at the same time as Kubecon in the conference center.
Pavilion 7 where the conference is hosted, is a very nice building which looks very recent.
The biggest difference with the previous conferences we attended (Valencia and Amsterdam) is that everything is very close to each other.
The building has 3 floors: the main entrance, the showcase floor and the talk-rooms-floor.
All talks are held in rooms that are oriented in a large square, with the keynote room being in the middle.
This makes it very easy to quickly switch between rooms, especially compared to the 5-10 minute walks we were used to in Valencia and Amsterdam.

//TODO insert picture of map of the venue.

//TODO mention OpenTofu track
// mention hint w.r.t. move away from declarative description of infra and toward "real programming language"

//TODO webassembly keynote aka Spinkube

# Highlighted talks

## Atlantis and OpenTofu

Atlantis is an automation solution that assists teams in managing their Infrastructure as Code rollouts by integrating the automation process into their Source Control Management system (E.g. GitHub).
It can run plans on code branches and provide the plan output in the pull request associated with the branch.
When a user wants to apply the changes (the plan is approved), Atlantis can roll out the required changes directly.
The biggest selling point for this is that the user never has to leave the SCM to manage rollout out changes.

The core maintainers of Atlantis shared the history of the project and how they became owners of the project.
They shared what their journey looked like and provided an insight into what the future holds for Atlantis.

Today, Atlantis doesn't natively support OpenTofu as a first-class citizen yet, but efforts are ongoing to change this (Epic link: https://github.com/runatlantis/atlantis/issues/3741).
Since Atlantis supports custom workflows, there is a way to use OpenTofu already today with Atlantis.

If you're running Terraform or OpenTofu setups at scale, this is surely a project to check out.
One of the few downsides is that Atlantis expects to receive webhooks from your SCM.
This requires Atlantis to be exposed on the public internet if you're using a SaaS-based SCM.
There are workarounds:
- limit the IPs that can access the endpoint to those linked to your SCM
- Put a reverse proxy in front of Atlantis and heavily filter the traffic
- (our favorite) use natively integrated CI solutions like AWS CodePipeline and "fake" the webhook from there

## Startup lessons from 25 years and 5 startups & Panel: Venture Captial and Open Source

These were two talks in the StartupFest co-located event of Kelsey Hightower.
The first talk discussed six useful lessons for doing a startup.
Tim Enwall from Fermyon shared his experiences and gave startup owners key things to consider when managing their startups.
One of the takeaways that was mentioned multiple times during other talks as well was: don't be afraid of giving away one or two percent more of shares when discussing Venture Capital.
The key reason is that the percentages don't make a difference in case the startup fails, 1 or 2 percent of 0 is still 0.
On the other hand, if the startup does very well, you're at the point where it does not significantly affect your outcome either because you'll be earning tons of money anyway.

Another interesting lesson Tim shared was that VCs are a necessary evil.
I'm not sure if this was planned or not, but the talk directly afterward was a panel with VCs.
The VCs shared how to evaluate potential investments are provided suggestions on how a startup can make itself more interesting to a VC.
The two takeaways here were: the best way to some product-market-fit is by having paying customers using your solution and secondly, show the VC data that backs any claims you're making w.r.t. customer adoption and market interest in your product.

## [Kubernetes Maintainers Read Mean Comments - Tim Hockin (Google) & Davanum Srinivas (AWS)](https://www.youtube.com/watch?v=sNRnB4rGZBI){:target="_blank" rel="noopener noreferrer"}

Being an open-source developer can be a very satisfying and rewarding job.
Engaging with a large community, particularly with famous open-source software, often leads to heartwarming feedback from dedicated users.
Open-source is more than just the open development of a product.
It has a widespread community, people contribute by either reporting issues on the issue tracker, by submitting a pull request to improve the software, participating in discussions on Slack or public forums, attending public meetings, ... .
Sadly, it can also be a thankless job and not all people realize that open source software is something that anyone can contribute to, and does not really have any limitations as to how someone can contribute to.

Tim Hockin (Google) and Davanum Srinivas (AWS) both maintain the Kubernetes project on Github.
In this talk, they show some of the meanest, weirdest, most ridiculous comments written by Kubernetes users on public forums such as Reddit and the Github issue tracker.
Most comments are about frustrations why it takes too long for a certain feature to be implemented or for a certain bug to be fixed.
While some of them are hilarious, they really do not have a place in an open source environment.

People often wonder how it is possible that a bug is open for a few years and still hasn't been fixed, despite Kubernetes being a very popular product.
Tim and Davanum answer this question by simply saying that there are only a few engineers who are 100% assigned to the Kubernetes project.
Engineers who are not assigned to the project try to contribute, but is often hard because of other commitments, whether those commitments are personal or business related.
As Kubernetes is globally adopted and used in a lot of international companies, there are a lot of issues coming in.
Sometimes, it's too much, and they simply don't have the time for it.
But as they say, the Kubernetes project is open source, anyone can create a pull request if people want to see a certain issue fixed.

They also want to highlight that, even though you have some frustrations with the product or things are not working as they are intended, you still have to remember that engineers are people aswell.
There is no place for rudeness, discourtesy and impoliteness.
You are allowed to express your frustrations, but do so in a kindly manner, without personally offending anyone.

Not every comment is a bad comment, and they want to show that, as they end the presentation with a series of thankful and heartwarming posts and comments about Kubernetes and the time and effort that is being committed in the Kubernetes project every single day.

## [Keep Hackers Out of Your Cluster with These 5 Simple tricks - Christophe Tafani-Dereeper & Frederic Baguelin](https://www.youtube.com/watch?v=UZz44j8bszU&t=1295s){:target="_blank" rel="noopener noreferrer"}

Currently, there a limited useful threat intelligence available for cloud and containers, surrounded by a sea of noise. Therefore, Christophe & Frederic conducted some research and shared their finding in this interesting talk.

The talk began by presenting a minimalist threat model for managed Kubernetes clusters operating in a cloud environment. You can compare a threat model to a map of your house, used to identify potential entry point for burglars. In this context, it helps anticipate and prevent cyber-attacks by understanding vulnerabilities.

The model illustrated several possible threats, including exploiting application vulnerabilities, compromising the cluster, and injecting malicious code into images.

They explained their research process, which involved studying various sources and using honeypots. This led to an extensive breakdown of attacks into two main categories: Controller plane attacks, which target the K8s API server directly and Data plane attacks, which attempt to exploit workloads within K8s itself.

As promised in their title, they provided five simple security mechanisms to prevent these attacks, along with practical insights and tool recommendations.

1.	**Control Plane Security:** Ensure proper management of the control plane basic, which are mostly covered with managed K8s. Enforce authentication on the API server and minimize its network exposure.
2.	**Block Cloud Metadata Service Access:** Prevent workloads from accessing the cloud metadata service. While GKE Workload Identity provides enough protection, AWS IAM roles for Service Accounts & Azure Workload Identity do not. Blocking IMDS access using a network policy is required for these platforms.
3.	**Understand Workload Privileges:** Be aware of the access levels and permissions associated with your workload.
4.	**Intentional Cluster Management:** Be deliberate about what runs in your cluster. Avoid creating unnecessary resources that may be forgotten or pose security risks.
5.	**Application Security:** Utilize modern frameworks and regularly update libraries, frameworks, and dependencies.

In conclusion, the talk not only provided valuable insights into the complexities of securing cloud-native environments but also offered practical guidance for addressing these challenges effectively.

## [Product Market Misfit: Adventures in User Empathy - Mitch Connors, Aviatrix](https://www.youtube.com/watch?v=jpIWERlrXT4){:target="_blank" rel="noopener noreferrer"}

Far too often, software developers invest considerable amount of time and effort into building features or products, only to discover they are either disliked or unused by their target audience - a scenario we've encountered firsthand in our day-to-day work.

In his talk, Mitch Connors delves into this issue and provides valuable insights on how to tackle it.

Developers often make the mistake of building what they believe their users need, rather than what they actually require.
This misalignment originates from differing perspectives of developers and users.
Connors effectively illustrates this through the use of some real-world examples.

His key advice for tackling this problem is to foster empathy for your users:

1. Get into their shoes; experience what they experience. By doing so, a shared perspective can be developed.
2. Maintain an open mindset and never stop listening. Embrace criticism, especially if you truly love what you've built.

While Connors' talk certainly differed from all others we attended, it was very interesting and engaging.
We strongly believe every software developer, as well as anyone involved in creating products for groups of users, could greatly benefit from the insights he provides.

# Noteworthy talks

- [State of Platform Maturity in the Norwegian Public Sector](https://www.youtube.com/watch?v=3WFZhETlS9s){:target="_blank" rel="noopener noreferrer"}: this talk provides a great insight into how the Norwegian public sector adopted Kubernetes and Cloud-native solutions to enhance their technology stack.
- [Cloud-Agnostic Approach to Bin-Packing pods in Managed Kubernetes in AWS, GCP and Azure](https://www.youtube.com/watch?v=3podlIoxwyI){:target="_blank" rel="noopener noreferrer"}: this talk provides some real-world optimizations that can be leveraged to improve the node utilization by making changes to the default scheduler in Kubernetes.
- [We tested and compared 6 database operations](https://www.youtube.com/watch?v=l33pcnQ4cUQ){:target="_blank" rel="noopener noreferrer"}: This talk shares (in a very funny pirate theme) the journey Enix made to select their preferred database Operators. TLDR; CNPG for PostgreSQL and the maria-operator for MariaDB.
- [The party must go on - Resume pods after spot instance shut down](https://www.youtube.com/watch?v=c2MbSM9-7Xs){:target="_blank" rel="noopener noreferrer"}: This talk gives an introduction and live demo of CRUI and CRIT which allows to essentially pause/hibernate containers to disk and restart them later without issue. This is a must-watch if you want to benefit from spot instances for batch workloads that don't support being paused of re-located half-way through their job.
- [How Spotify Re-Created Our Entire Backend Without Skipping a Beat](https://www.youtube.com/watch?v=Iw5Tox2H87A){:target="_blank" rel="noopener noreferrer"}: Spotify had to recreate every Kubernetes cluster they have, migrate half a million pods, all with zero downtime. In this talk, they briefly explain their experience in doing so.
- [Building Container Images the Modern Way](https://www.youtube.com/watch?v=nZLz0o4duRs){:target="_blank" rel="noopener noreferrer"}: Using a Dockerfile to build your Docker images isn't considered the best practice nowadays. This talk explores different image building tools through live demos, helping you understand which tool might be the best fit for your needs.
- 
# Showcase highlights

At KubeCon, the Showcase room was the largest room of the venue packed with booths from big names like AWS, Microsoft, Google, VMWare, and Docker, alongside smaller companies as well as startups.
They were all there to show off their latest stuff and give away cool goodies like gadgets and merchandise.
Some booths had fun games to play, while others held raffles with prizes like LEGO sets, drones, and gaming consoles.
It was a lively scene, with attendees buzzing around to check out what each booth had to offer.

## AWS
At this year's KubeCon, AWS didn't have as big a setup as they did [last year](https://blog.ordina-jworks.io/cloud/2023/05/17/kubecon-2023.html#aws){:target="_blank" rel="noopener noreferrer"}, with a smaller booth and fewer activities.
But they still had some neat stuff to check out, like cool gadgets and socks up for grabs.
One standout was an arcade machine with a twist - the game was inspired by Space Invaders, but instead of monsters, you were shooting at Kubernetes pods in a cluster.
Shooting down Deployments & Pod Autoscalers stopped the pods from respawning.

AWS staff were around to chat with, offering demos of their latest features and hot topics.

On the final day, they hosted a raffle where lucky attendees could snag one of two LEGO sets just by swinging by their booth and signing up for the raffle.
# Conclusion
// TODO @all

The conference in **"la Ville Lumière"**("the city of light") was an incredible experience, combining education with enjoyment.
The wide variety of conference booths showcasing interesting companies (and, of course, gadgets/activities) added to the fun.
While the venue at Paris Expo Porte de Versailles was impressive, there was room for improvement in the quality of the food, although the desserts were delicious.
Similar to previous year, some talks were so popular that they exceeded the capacity of their assigned rooms.
Some talks had to be moved to even bigger rooms so the capacity could be handled.
Overall, the event was amazing and there were a lot of interesting talks, leaving us eagerly anticipating next year's edition in London.
